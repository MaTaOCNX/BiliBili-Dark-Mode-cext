/* 1. Normal Mode Inversion */
html.dark-mode {
    filter: invert(1) hue-rotate(180deg) !important;
    background-color: #fff !important;
}

/* 2. Standard Counter-Flip for media */
html.dark-mode img, 
html.dark-mode video, 
html.dark-mode .bpx-player-container {
    filter: invert(1) hue-rotate(180deg) !important;
}

/* 3. THE FULLSCREEN FIX: 
   When the player goes fullscreen, we remove the filters 
   to prevent the "Double Inversion" bug. */
html.dark-mode :fullscreen,
html.dark-mode :-webkit-full-screen,
html.dark-mode .bilibili-player-video-wrap {
    filter: none !important;
}

/* Ensure the video itself doesn't stay inverted inside the fullscreen container */
html.dark-mode :fullscreen video,
html.dark-mode :-webkit-full-screen video {
    filter: none !important;
}
